<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>COMP 7404 Group P</title>
    <script src="{{ url_for('static', filename='js/jquery-3.4.1.min.js') }}"></script>
    <script src="{{ url_for('static', filename='css/bootstrap.css') }}"></script>
    <script src="{{ url_for('static', filename='js/jquery.form.min.js') }}"></script>
</head>
<body>
    <form id="form">
        <table id="table">
            <tr>
                <th>Number</th>
                <th>Object 1</th>
                <th>Relationship</th>
                <th>Object 2</th>
            </tr>
            <tr id="rows">
                <td>
                    <label id="Document ID">1</label>
                </td>
                <td>
                    <input type="text" name="obj1-1"/>
                </td>
                <td>
                    <select name="rel-1">
                        <option value="on">on</option>
                        <option value="in">in</option>
                        <option value="by">by</option>
                        <option value="above">above</option>
                        <option value="below">below</option>
                        <option value="behind">behind</option>
                        <option value="next to">next to</option>
                        <option value="standing on">standing on</option>
                        <option value="in front of">in front of</option>
                    </select>
                </td>
                <td>
                    <input type="text" name="obj2-1"/>
                </td>
            </tr>
        </table>
    </form>

    <button type="button" onclick="addRow()">Add Row</button>
    <button onclick="submitForm()">Submit</button>

    <div id="result" >
    </div>
    <div id="description">
        <h4>Please Read First</h4>
        <p>
            Hello, we are students in MSc(Comp Sc) programme from the University of Hong Kong.
            This site is a demonstration for our project in COMP7404 Computational Intelligence and Machine Learning.
        </p>
        <p>
            This site is built based on a published paper,
            <i><a href="https://arxiv.org/abs/1804.01622">Image Generation from Scene Graph</a></i> (Johnson et al, CVPR 2018). <br>
        </p>
        <p>
            With the model and the image generation engine from this paper,
            user could specify the relationships of objects, fill in the blank in the table above,
            and click <b>submit</b> to generate the pic.
        </p>
        <p>
            We are using <i><a href="https://visualgenome.org/">Visual Genome</a></i> as the training set for this demonstration.
            There are 178 objects and 45 relationships as specified in the paper.
        </p>
        <p>
            Here we only offer you 9 relationships for convenience of making choices,
            but all 178 objects are available.
        </p>
        <p>
            <b>Sample of Objects</b><br>
            <b>Human</b>: person, woman, man, boy, girl, etc.<br>
            <b>Landscape</b>: tree, ground, sky, cloud, flower, mountain, etc.<br>
            <b>Animal</b>: cat, dog, elephant, giraffe, sheep, zebra, etc.<br>
            <b>Vehicle</b>: bike, car, boat, trunk, bus, train, motorcycle, etc.<br>
            <b>Architecture</b>: building, road, house, etc.<br>
        </p>
        <p>
            It might take several seconds to generate the picture, please wait for the response,
            otherwise the picture will be stored in the cloud and storage might exceeds.
        </p>
        <p>
            <b>IMPORTANT</b><br>
            <p>
                1. For better performance, please <b>specify at least 4 arguments and submit</b>,
                we have tested that the more detail you give, the more precise the picture will be.
            </p>
            <p>
                2. The model in the paper supports an item appearing more than one time (e.g., two or more sheep in one picture),
                but in the demo, this feature is missing because of the construction of parameters is tricky. <br>
                If you would like to test this function, you can simply POST or GET with JSON to our API: /api/json <br>
                You can use this JSON as a reference: <br>
                {
                    "objects": ["sky", "grass", "sheep", "sheep", "tree", "ocean", "boat"],
                    "relationships": [
                        [0, "above", 1],
                        [2, "standing on", 1],
                        [3, "by", 2],
                        [4, "behind", 2],
                        [5, "by", 4],
                        [6, "in", 5]
                   ]
                }
            </p>
        <p>
            If you have any questions, feel free to <a href="mailto: isaaclin@connect.hku.hk">contact us</a>.
        </p>
        <p>
            If you would like to get the source code,
            you can get it <a href="https://github.com/BlankerL/sg2im-flaskdemo">here</a>.
        </p>
    </div>

    <script src="{{ url_for('static', filename='js/addRows.js') }}"></script>
    <script src="{{ url_for('static', filename='js/submit.js') }}"></script>

</body>
</html>